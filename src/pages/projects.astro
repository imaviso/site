---
import Layout from "../layouts/Layout.astro";
import Nav from "../components/Nav.astro";
import Footer from "../components/Footer.astro";
import ProjectCard from "../components/ProjectCard.astro";
import universImage from "../assets/univers.png";
import subsonicImage from "../assets/subsonic.png";
import nixosImage from "../assets/nixos.png";

const projects = [
  {
    title: "UniVERS",
    description: "A centralized event reservation system featuring automated approval workflows, real-time venue availability tracking, and integrated equipment management. Built with a React frontend and Spring Boot backend, this system streamlines event coordination with hierarchical approvals and automated notifications.",
    href: "https://github.com/imaviso/univers",
    image: universImage,
    imageAlt: "UniVERS Project",
    tags: ["Typescript", "React", "Java", "Spring Boot"],
  },
  {
    title: "Subsonic",
    description: "A lightweight, self-hosted music streaming server implementing the Subsonic API and OpenSubsonic extensions. Built with Rust, Axum, and SQLite, featuring automatic library scanning, multi-user support, and compatibility with popular Subsonic clients. Includes a modern React web client deployable as a standalone web app or installable as a cross-platform desktop application via Electron.",
    href: "https://github.com/imaviso/subsonic",
    image: subsonicImage,
    imageAlt: "Subsonic Music Server",
    tags: ["Rust", "Axum", "SQLite", "Typescript", "React", "TanStack Router"],
  },
  {
    title: "NixOS Configuration",
    description: "A declarative NixOS system configuration leveraging Flakes and Home-Manager for reproducible development environments. Features a modern Wayland desktop with the Niri scrollable-tiling compositor, quickshell integration, and a minimalist dark theme. Optimized for keyboard-driven workflows with Neovim and modern terminal emulators (Foot/Ghostty).",
    href: "https://github.com/imaviso/yunyun-dotfiles",
    image: nixosImage,
    imageAlt: "NixOS Configuration",
    tags: ["NixOS", "Nix", "Linux", "Neovim", "Niri", "Quickshell"],
  },
];
---

<Layout title="Projects - imaviso" preloadImage={universImage.src}>
  <div class="w-[1000px] max-lg:w-full h-screen flex flex-col border-x border-[var(--color-border)] max-lg:border-x-0 relative overflow-hidden">
    <Nav currentPath="/projects" />

    <main id="main-content" class="flex-1 flex items-start justify-center py-12 px-8 border-b border-[var(--color-border)] overflow-y-auto min-h-0 custom-scrollbar max-md:py-8 max-md:px-4">
      <div class="w-full">

        <!-- Terminal Prompt -->
        <div class="animate-fade-in mb-4">
          <div class="font-[var(--font-mono)] text-[0.8rem] text-[var(--color-muted)] flex items-center gap-1">
            <span class="text-[var(--color-accent)]">visitor</span>
            <span class="text-[var(--color-fg)]">@</span>
            <span class="text-[var(--color-accent)]">imaviso.com</span>
            <span class="text-[var(--color-muted)]">:</span>
            <span class="text-[var(--color-muted)]">~</span>
            <span class="text-[var(--color-fg)]">$</span>
            <span class="ml-1">ls ./projects</span>
          </div>
        </div>

        <h1 class="font-[var(--font-mono)] text-[2.5rem] font-normal leading-[1.2] mb-2 text-[var(--color-fg)] tracking-[-0.02em] max-md:text-[1.75rem] max-[480px]:text-2xl animate-fade-in animation-delay-100">Projects</h1>

        <!-- Section Divider -->
        <div class="section-divider animate-fade-in animation-delay-200">
          <span>// featured work</span>
        </div>

        <div class="space-y-8">
          {projects.map((project, index) => (
            <div style={`animation-delay: ${(index + 2) * 100}ms`} class="animate-fade-in-up">
              <ProjectCard {...project} index={index + 1} />
            </div>
          ))}
        </div>

      </div>
    </main>

    <Footer />
  </div>
</Layout>
