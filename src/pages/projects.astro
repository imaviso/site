---
import Layout from "../layouts/Layout.astro";
import Nav from "../components/Nav.astro";
import Footer from "../components/Footer.astro";
import ProjectCard from "../components/ProjectCard.astro";
import universImage from "../assets/univers.png";
import subsonicImage from "../assets/subsonic.png";
import nixosImage from "../assets/nixos.png";
import tuiImage from "../assets/tui.png";
import machinereportImage from "../assets/machinreport.png";

const projects = [
  {
    title: "UniVERS",
    description: "A centralized event reservation system featuring automated approval workflows, real-time venue availability tracking, and integrated equipment management. Built with a React frontend and Spring Boot backend, this system streamlines event coordination with hierarchical approvals and automated notifications.",
    href: "https://github.com/imaviso/univers",
    image: universImage,
    imageAlt: "UniVERS Project",
    tags: ["Typescript", "React", "Java", "Spring Boot"],
  },
  {
    title: "Subsonic",
    description: "A lightweight, self-hosted music streaming server implementing the Subsonic API and OpenSubsonic extensions. Built with Rust, Axum, and SQLite, featuring automatic library scanning, multi-user support, and compatibility with popular Subsonic clients. Includes a modern React web client deployable as a standalone web app or installable as a cross-platform desktop application via Electron.",
    href: "https://github.com/imaviso/subsonic",
    image: subsonicImage,
    imageAlt: "Subsonic Music Server",
    tags: ["Rust", "Axum", "SQLite", "Typescript", "React", "TanStack Router"],
  },
  {
    title: "Subsonic TUI",
    description: "A terminal-based music player client for Subsonic and OpenSubsonic compatible servers. Built with Rust and Ratatui, featuring album browsing, queue management, and keyboard-driven navigation. Designed for users who prefer a lightweight, terminal-native music experience.",
    href: "https://github.com/imaviso/subsonic-tui",
    image: tuiImage,
    imageAlt: "Subsonic TUI",
    tags: ["Rust", "Ratatui", "TUI", "Subsonic"],
  },
  {
    title: "MachineReport",
    description: "A blazingly fast system fetch tool for Linux, forked from microfetch with improved GPU detection. Executes in ~1ms (~140x faster than fastfetch) with a minimal ~412kb binary. Features reliable detection for AMD, NVIDIA, Intel, and virtual GPUs with minimal dependencies (only libc).",
    href: "https://github.com/imaviso/machinereport",
    image: machinereportImage,
    imageAlt: "MachineReport System Info",
    tags: ["Rust", "Linux", "CLI"],
  },
  {
    title: "NixOS Configuration",
    description: "A declarative NixOS system configuration leveraging Flakes and Home-Manager for reproducible development environments. Features a modern Wayland desktop with the Niri scrollable-tiling compositor, quickshell integration, and a minimalist dark theme. Optimized for keyboard-driven workflows with Neovim and modern terminal emulators (Foot/Ghostty).",
    href: "https://github.com/imaviso/yunyun-dotfiles",
    image: nixosImage,
    imageAlt: "NixOS Configuration",
    tags: ["NixOS", "Nix", "Linux", "Neovim", "Niri", "Quickshell"],
  },
];
---

<Layout title="Projects - imaviso" preloadImage={universImage.src}>
  <div class="main-container">
    <Nav currentPath="/projects" />

    <main id="main-content" class="flex-1 py-12 px-8 border-b border-[var(--color-border)] overflow-y-auto min-h-0 custom-scrollbar max-md:py-8 max-md:px-6 max-sm:px-4">
      
      <!-- Scanline effect -->
      <div class="scanline"></div>
      
      <div class="w-full max-w-4xl mx-auto">

        <!-- Header Section -->
        <header class="mb-10">
          <!-- Terminal Prompt -->
          <div class="animate-fade-in mb-6">
            <div class="terminal-prompt">
              <span class="user">visitor</span>
              <span class="separator">@</span>
              <span class="user">imaviso.com</span>
              <span class="separator">:</span>
              <span class="path">~</span>
              <span class="separator">$</span>
              <span class="command ml-1">ls ./projects</span>
            </div>
          </div>

          <!-- Page Title -->
          <h1 class="font-[var(--font-mono)] text-[2.5rem] font-normal leading-[1.1] text-[var(--color-fg)] tracking-[-0.02em] max-md:text-[2rem] max-sm:text-[1.5rem] animate-fade-in-up animation-delay-100">
            Projects
          </h1>
          
          <!-- Subtitle -->
          <p class="mt-4 text-[0.9rem] text-[var(--color-muted)] font-[var(--font-mono)] animate-fade-in animation-delay-200">
            A collection of things I've built
          </p>
        </header>

        <!-- Section Divider -->
        <div class="section-divider animate-fade-in animation-delay-300">
          <span>// featured work</span>
        </div>

        <!-- Projects Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          {projects.map((project, index) => (
            <div 
              style={`animation-delay: ${(index + 3) * 100}ms`} 
              class="animate-fade-in-up"
            >
              <ProjectCard {...project} index={index + 1} />
            </div>
          ))}
        </div>

        <!-- Footer Note -->
        <div class="mt-12 pt-8 border-t border-[var(--color-border)] animate-fade-in animation-delay-800">
          <p class="text-[0.75rem] text-[var(--color-dim)] font-[var(--font-mono)] text-center">
            More projects available on <a href="https://github.com/imaviso" target="_blank" rel="noopener noreferrer" class="text-link">GitHub</a>
          </p>
        </div>

      </div>
    </main>

    <Footer />
  </div>
</Layout>
